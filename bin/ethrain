#!/usr/bin/env node
'use strict';
var program = require('commander');
var request = require('request');

// parse parameters and in general set them up
program
  .description('Gets you test ether on the ethereum morden test net')
  .usage('<eth address>')
  .parse(process.argv);

// print help with no args
if (program.args.length < 1) {
  process.exit(1);
}

var base = 'http://icarus.parity.io/rain/';

request(base+program.args[0], function (error, response, body) {
  if (error || response.statusCode != 200) {
    return console.error(error, body);
    process.exit(1);
  }
  if (!error && response.statusCode == 200) {
    console.log(body)
    process.exit(0);
  }
})
